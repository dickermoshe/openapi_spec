components:
  schemas:
    ExpressionToken:
      allOf:
      - $ref: '#/components/schemas/Token'
      - properties:
          tokens:
            items:
              $ref: '#/components/schemas/Token'
            type: array
        type: object
    StringToken:
      allOf:
      - $ref: '#/components/schemas/Token'
      - properties:
          value:
            type: string
        type: object
    Token:
      discriminator:
        mapping:
          expression: '#/components/schemas/ExpressionToken'
          string: '#/components/schemas/StringToken'
        propertyName: type
      properties:
        metadata:
          $ref: '#/components/schemas/TokenMetadata'
        type:
          type: string
      required:
      - type
      type: object
    TokenMetadata:
      properties:
        tag1:
          type: string
      type: object
info:
  title: OAI Specification example for Polymorphism
  version: 1.0.0
openapi: 3.0.2
paths:
  /status:
    get:
      responses:
        '201':
          description: desc
